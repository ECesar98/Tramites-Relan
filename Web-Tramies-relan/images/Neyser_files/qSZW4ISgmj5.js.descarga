if (self.CavalryLogger) { CavalryLogger.start_js(["26h4E"]); }

__d("TimelineJumperCursorConfig",[],(function a(b,c,d,e,f,g){f.exports={BOUNDARY_PREFIX:"boundary",CURSOR_PREFIX:"jumper",CURSOR_DELIMITER:"_"};}),null);
__d('FBMorePager.react',['cx','OnVisible.react','React','getViewportDimensions','throttle'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(m,n){j.constructor.call(this,m,n);this.state={isMounted:false,throttledCallback:c('throttle')(function(){return this.$FBMorePager1();}.bind(this),m.throttle),visible:false};}k.prototype.componentWillReceiveProps=function(m){this.$FBMorePager2(m);if(this.props.throttle!==m.throttle)this.setState({throttledCallback:c('throttle')(function(){return this.$FBMorePager1();}.bind(this),m.throttle)});};k.prototype.componentWillMount=function(){this.setState({isMounted:true});};k.prototype.componentWillUnmount=function(){this.setState({isMounted:false});};k.prototype.render=function(){return c('React').createElement('div',{className:"_3fv0"+(this.state.visible?' '+"_3fv1":'')},c('React').createElement(c('OnVisible.react'),{buffer:this.props.buffer,onVisible:function(){return this.$FBMorePager3();}.bind(this),ref:'onVisible'},this.props.children));};k.prototype.$FBMorePager2=function(){this.setState({visible:false});this.refs.onVisible&&this.refs.onVisible.reset();};k.prototype.$FBMorePager3=function(){this.setState({visible:true});this.state.throttledCallback();};k.prototype.$FBMorePager1=function(){this.state.isMounted&&this.props.onMore&&this.props.onMore();};var l=Math.min(c('getViewportDimensions')().height,c('getViewportDimensions')().width)*2;k.defaultProps={buffer:l,throttle:1000};f.exports=k;}),null);
__d('TimelineJumperDispatcher',['ExplicitRegistrationReactDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ExplicitRegistrationReactDispatcher'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this);}f.exports=new j({strict:true});}),null);
__d('TimelineJumperAction',['AsyncRequest','AsyncResponse','TimelineJumperDispatcher','URI'],(function a(b,c,d,e,f,g){'use strict';var h=60000,i={initialize:function j(k){c('TimelineJumperDispatcher').dispatch({actionType:'initialize',payload:k});},headerNavScrollTo:function j(k){c('TimelineJumperDispatcher').dispatch({actionType:'header_nav_scroll_to',payload:{key:k}});},handlePageFetchSuccess:function j(k){if(k===null)return;var l=k.isFrontFetch?'prev_page_fetch_success':'next_page_fetch_success';c('TimelineJumperDispatcher').dispatch({actionType:l,payload:{cursor:k.resultCursor,cursorToken:k.fetchToken,stories:k.stories}});},fetchURI:function j(k,l){new (c('AsyncRequest'))().setURI(k).setErrorHandler(function(m){i.pageFetchFail(l,m);}).setTimeoutHandler(h,function(m){i.pageFetchTimeout(l,m);}).send();},fetchNextPage:function j(){c('TimelineJumperDispatcher').dispatch({actionType:'fetch_next_page'});},prefetchPrevPage:function j(){c('TimelineJumperDispatcher').dispatch({actionType:'prefetch_prev_page'});},pageFetchTimeout:function j(k,l){c('TimelineJumperDispatcher').dispatch({actionType:'page_fetch_timeout',payload:{direction:k,errorCode:null,errorMessage:null}});},pageFetchFail:function j(k,l){c('TimelineJumperDispatcher').dispatch({actionType:'page_fetch_fail',payload:{direction:k,errorCode:l.getError(),errorMessage:l.getErrorDescription()}});},showPrevPage:function j(){c('TimelineJumperDispatcher').dispatch({actionType:'show_prev_page'});},clearScrollTo:function j(){c('TimelineJumperDispatcher').dispatch({actionType:'clear_scroll_to_element'});},onLeave:function j(){c('TimelineJumperDispatcher').dispatch({actionType:'on_leave'});}};f.exports=i;}),null);
__d('TimelineSectionTokenConstants',[],(function a(b,c,d,e,f,g){'use strict';var h={KEY_MONTH_POSITION:2,KEY_YEAR_POSITION:1,LAST_MONTH_OF_YEAR:12,MIN_TOKENS_PER_KEY:2,KEY_LENGTH_WITH_MONTH:3,KEY_DELIMITER:'_',RECENT_TOKEN:'recent',MONTH_TOKEN_PREFIX:'month',YEAR_TOKEN_PREFIX:'year'};f.exports=h;}),null);
__d('TimelineSectionToken',['invariant','TimelineSectionTokenConstants','DateConsts','TimelineJumperCursorConfig'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('TimelineSectionTokenConstants').KEY_DELIMITER,j=c('TimelineSectionTokenConstants').KEY_LENGTH_WITH_MONTH,k=c('TimelineSectionTokenConstants').KEY_MONTH_POSITION,l=c('TimelineSectionTokenConstants').KEY_YEAR_POSITION,m=c('TimelineSectionTokenConstants').LAST_MONTH_OF_YEAR,n=c('TimelineSectionTokenConstants').MIN_TOKENS_PER_KEY,o=c('TimelineSectionTokenConstants').MONTH_TOKEN_PREFIX,p=c('DateConsts').MS_PER_SEC,q=c('TimelineJumperCursorConfig').CURSOR_PREFIX,r=c('TimelineJumperCursorConfig').CURSOR_DELIMITER,s={createMonthTokenWithYearAndMonth:function t(u,v){v<=12&&v>0||h(0);return o.concat(i,u.toString(),i,v.toString());},createMonthTokenWithKey:function t(u,v){var w=this.getYearFrom(u);return this.createMonthTokenWithYearAndMonth(w,v);},getMonthFrom:function t(u){var v=this._getPartsFrom(u);return v.length===j?parseInt(v[k],10):m;},getYearFrom:function t(u){var v=this._getPartsFrom(u);return parseInt(v[l],10);},getCursorFromRecentToken:function t(){var u=Date.now()/p;return q.concat(r,u.toString());},getCursorFrom:function t(u){var v=this.getYearFrom(u),w=this.getMonthFrom(u),x=(new Date(v,w,1).valueOf()/p-1).toString();return q.concat(r,x);},_getPartsFrom:function t(u){var v=u.split(i);v.length>=n||h(0);return v;}};f.exports=s;}),null);
__d('TimelineStickyHeaderWithJumperNav',['ButtonGroup','CSS','DataStore','DOM','Event','Parent','ProfileTimelineUILogger','Run','SelectorDeprecated','SubscriptionsHandler','TimelineJumperAction','TimelineSectionToken','URI','TimelineSectionTokenConstants','DateConsts'],(function a(b,c,d,e,f,g){'use strict';var h=c('TimelineSectionTokenConstants').KEY_DELIMITER,i=c('TimelineSectionTokenConstants').KEY_LENGTH_WITH_MONTH,j=c('TimelineSectionTokenConstants').RECENT_TOKEN,k=c('TimelineSectionTokenConstants').YEAR_TOKEN_PREFIX,l=c('DateConsts').MS_PER_SEC,m={_initialized:false,_menuGroup:null,_pageMenu:null,_sectionMenu:null,_subsectionMenus:{},_subsectionMenuTemplate:null,_subscriptions:null,init:function n(o){if(this._initialized)return;this._initialized=true;this._pageMenu=c('DOM').find(o,'div.pageMenu');this._menuGroup=c('ButtonGroup').getInstance(this._pageMenu);this._sectionMenu=c('DOM').find(o,'div.sectionMenu');this._subsectionMenuTemplate=c('DOM').find(o,'div.subsectionMenu');this._subscriptions=new (c('SubscriptionsHandler'))();this._initSectionMenu();this._subscriptions.addSubscriptions(c('Event').listen(this._pageMenu,'click',function(event){return this._handleTabClick(event);}.bind(this)));c('Run').onLeave(function(){return this.reset();}.bind(this));},reset:function n(){this._initialized=false;this._menuGroup=null;this._pageMenu=null;this._sectionMenu=null;this._subsectionMenus={};this._subsectionMenuTemplate=null;this._subscriptions.release();},updateSelectedWithData:function n(o){if(!o.timestamp||!this._sectionMenu)return;var p=new Date(parseInt(o.timestamp,10)*l),q=(p.getMonth()+1).toString(),r=k.concat(h,p.getFullYear().toString());if(c('SelectorDeprecated').getOption(this._sectionMenu,r)){c('SelectorDeprecated').setSelected(this._sectionMenu,r,true);this._showOrHideSubsectionMenuForKey(r);var s=this._subsectionMenus[r];if(s)c('SelectorDeprecated').setSelected(s,q,true);}else{c('SelectorDeprecated').setSelected(this._sectionMenu,j,true);this._showOrHideSubsectionMenuForKey(j);}},_initSectionMenu:function n(){var o=c('SelectorDeprecated').getSelectorMenu(this._sectionMenu);this._subscriptions.addSubscriptions(c('Event').listen(o,'click',function(event){return this._handleClickedMenu(event);}.bind(this)));},_handleClickedMenu:function n(event){var o=event.target;if(!(o instanceof Node))return;var p=c('Parent').byTag(o,'a'),q=p&&c('DataStore').get(p,'key');if(q){c('TimelineJumperAction').headerNavScrollTo(q);c('ProfileTimelineUILogger').logStickyHeaderScrubberWithJumperClick(q);event.preventDefault();this._showOrHideSubsectionMenuForKey(q);}},_showOrHideSubsectionMenuForKey:function n(o){if(o===j){this._hideSubsectionMenus();}else this._showSubsectionMenuForKey(o);},_hideSubsectionMenus:function n(){if(this._menuGroup)this._menuGroup.hideItem(this._subsectionMenuTemplate);},_showSubsectionMenuForKey:function n(o){if(o.split(h).length===i)return;var p=this._createSubsectionMenuForKey(o);c('DOM').insertAfter(this._subsectionMenuTemplate,p);c('CSS').hide(this._subsectionMenuTemplate);for(var q in this._subsectionMenus){var r=this._subsectionMenus[q];c('CSS').conditionShow(r,r===p);}if(this._menuGroup)this._menuGroup.showItem(this._subsectionMenuTemplate);},_createSubsectionMenuForKey:function n(o){var p=this._subsectionMenus[o];if(!p){p=this._subsectionMenus[o]=this._subsectionMenuTemplate.cloneNode(true);var q=c('DOM').scry(p,'li.activityLog a')[0];if(q)q.href=new (c('URI'))(q.href).addQueryData({key:o});var r=c('DOM').scry(p,'li.monthSelector a');for(var s=0;s<r.length;s++){var t=r[s],u=t.getAttribute('data-key');t.setAttribute('data-key',c('TimelineSectionToken').createMonthTokenWithKey(o,u));}this._subscriptions.addSubscriptions(c('Event').listen(p,'click',function(event){return this._handleClickedMenu(event);}.bind(this)));}return p;},_handleTabClick:function n(event){var o=event.target;if(!(o instanceof Element))return;var p=c('Parent').byClass(o,'itemAnchor');if(p){var q=c('DataStore').get(p,'tab-key');if(q)c('ProfileTimelineUILogger').logStickyHeaderNavItemWithJumperClick(q);}}};f.exports=m;}),null);