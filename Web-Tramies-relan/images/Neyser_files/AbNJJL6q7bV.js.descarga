if (self.CavalryLogger) { CavalryLogger.start_js(["ZZXTI"]); }

__d('SignalsTabCountColor',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({GREY:null,BLUE:null,YELLOW:null,RED:null});f.exports=h;}),null);
__d('SignalsTab.react',['React','SignalsTabCountColor'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PureComponent,k=c('React').PropTypes;h=babelHelpers.inherits(l,j);i=h&&h.prototype;l.prototype.render=function(){return c('React').createElement('div',null,this.props.children);};function l(){h.apply(this,arguments);}l.propTypes={children:k.any,count:k.number,countColor:k.oneOf(Object.keys(c('SignalsTabCountColor'))),maxCountToDisplay:k.number,title:k.node.isRequired};l.defaultProps={countColor:c('SignalsTabCountColor').GREY};f.exports=l;}),null);
__d('SignalsTabGroupHeaderSize',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({MEDIUM:null,LARGE:null});f.exports=h;}),null);
__d('SignalsTabHeader.react',['cx','React','SignalsTabCountColor','SignalsTabGroupHeaderSize','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l=c('React').PureComponent,m=(k={},k[c('SignalsTabCountColor').GREY]="_hvx",k[c('SignalsTabCountColor').BLUE]="_hvy",k[c('SignalsTabCountColor').YELLOW]="_hvz",k[c('SignalsTabCountColor').RED]="_hv-",k);i=babelHelpers.inherits(n,l);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$SignalsTabHeader1=function(){this.props.onSelect(this.props.index);}.bind(this),p;}n.prototype.render=function(){var o=this.props,p=o.count,q=o.countColor,r=o.headerSize,s=o.maxCountToDisplay,t=o.selected,u=o.title,v="_1yd7"+(r===c('SignalsTabGroupHeaderSize').LARGE?' '+"_hw0":'')+(t?' '+"_hwa":'')+(!t?' '+"_hwb":''),w=p!=null&&s!=null&&p>s?s+'+':p,x=p==null?null:c('React').createElement('div',{className:c('joinClasses')("_1yd8",m[q])},w);return c('React').createElement('div',{className:v,role:'tab',tabIndex:'0',onClick:this.$SignalsTabHeader1},c('React').createElement('div',{className:"_1ydb"},u,x));};f.exports=n;}),null);
__d('SignalsTabGroup.react',['cx','invariant','React','SignalsTab.react','SignalsTabGroupHeaderSize','SignalsTabHeader.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Children,m=c('React').PureComponent,n=c('React').PropTypes,o='';j=babelHelpers.inherits(p,m);k=j&&j.prototype;function p(q){k.constructor.call(this,q);this.$SignalsTabGroup4=function(){var s=this.$SignalsTabGroup5();if(this.state.selectedIndex!==s)this.setState({selectedIndex:s},function(){return this.$SignalsTabGroup6();}.bind(this));}.bind(this);this.$SignalsTabGroup7=function(s){if(this.state.selectedIndex!==s)this.setState({selectedIndex:s},function(){this.$SignalsTabGroup6();this.$SignalsTabGroup3();}.bind(this));}.bind(this);var r=q.children;r&&r.length>0||i(0);this.$SignalsTabGroup1=r.map(function(s,t){return s.props.path||String(t);});this.state={selectedIndex:this.$SignalsTabGroup2(q)};this.$SignalsTabGroup3(true);}p.prototype.componentWillReceiveProps=function(q){if(q.initiallySelectedIndex!=null&&q.initiallySelectedIndex!=this.state.selectedIndex){var r=this.$SignalsTabGroup2(q);if(this.state.selectedIndex!==r)this.setState({selectedIndex:r},function(){this.$SignalsTabGroup3();}.bind(this));}};p.prototype.componentDidMount=function(){var q=this.props.usePaths;if(q)window.addEventListener('popstate',this.$SignalsTabGroup4);};p.prototype.componentWillUnmount=function(){window.removeEventListener('popstate',this.$SignalsTabGroup4);};p.prototype.$SignalsTabGroup2=function(q){var r=q.children,s=q.initiallySelectedIndex,t=q.usePaths,u=this.$SignalsTabGroup5(),v=t&&u>-1,w=0;if(!v){if(s!=null)w=s;}else w=u;0<=w&&r&&w<r.length||i(0);return w;};p.prototype.$SignalsTabGroup3=function(){var q=arguments.length<=0||arguments[0]===undefined?false:arguments[0],r=this.props.usePaths;if(r){var s=this.state.selectedIndex,t=this.$SignalsTabGroup1,u=this.props.basePath||o,v=document,w=v.location,x=v.title,y=w.search;if(q){history.replaceState(history.state,x,''+u+t[s]+y);}else history.pushState(history.state,x,''+u+t[s]+y);}};p.prototype.$SignalsTabGroup5=function(){var q=this.$SignalsTabGroup1,r=this.props.basePath||o,s=document.location.pathname.replace(''+r,'');return q.indexOf(s);};p.prototype.$SignalsTabGroup6=function(){var q=this.props.onSelectionChanged;if(q!=null)q.bind(this)(this.state.selectedIndex);};p.prototype.getSelectedIndex=function(){return this.state.selectedIndex;};p.prototype.render=function(){var q=l.toArray(this.props.children),r=this.state.selectedIndex,s=this.props,t=s.rightContent,u=s.leftContent,v=s.className,w=s.headerSize,x=[];for(var y=0;y<q.length;y++){var z=q[y],aa=c('React').createElement(c('SignalsTabHeader.react'),{count:z.props.count,countColor:z.props.countColor,headerSize:w,index:y,key:'header'+y,maxCountToDisplay:z.props.maxCountToDisplay,selected:y===r,title:z.props.title,onSelect:this.$SignalsTabGroup7});x.push(aa);if(y<q.length-1&&this.props.showSeparator){var ba=c('React').createElement('div',{className:"_58-m",key:'separator'+y});x.push(ba);}}var ca=q[r],da=this.props.maxBodyHeight!=null?{maxHeight:this.props.maxBodyHeight}:null;return c('React').createElement('div',{className:v},c('React').createElement('div',{className:"_58-n"+(w===c('SignalsTabGroupHeaderSize').LARGE?' '+"_g_z":'')},u,x,c('React').createElement('div',{className:"_3p80"}),t),c('React').createElement('div',{className:"_58-o",style:da},ca));};p.propTypes={children:n.array,className:n.string,headerSize:n.oneOf(['MEDIUM','LARGE']),initiallySelectedIndex:n.number,leftContent:n.any,maxBodyHeight:n.number,rightContent:n.any,showSeparator:n.bool,usePaths:n.bool,onSelectionChanged:n.func};p.defaultProps={headerSize:c('SignalsTabGroupHeaderSize').MEDIUM,showSeparator:true};f.exports=p;}),null);
__d('FeedPersonalTaskOption',['Arbiter'],(function a(b,c,d,e,f,g){'use strict';var h={ADD_TASK:'add_task',init:function i(j,k){j.addEventListener('click',function(){c('Arbiter').inform(this.ADD_TASK,k);}.bind(this));}};f.exports=h;}),null);
__d("XWorkCreatePersonalTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/personal_task\/create\/",{title:{type:"String",required:true},post_id:{type:"FBID"}});}),null);
__d("XWorkCreateTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/tasks\/create\/",{title:{type:"String",required:true}});}),null);
__d("XWorkDeletePersonalTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/personal_task\/delete\/",{id:{type:"FBID",required:true}});}),null);
__d("XWorkEnableTaskIntegrationAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/tasks\/enable_integration\/",{});}),null);
__d("XWorkUpdatePersonalTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/personal_task\/update\/",{});}),null);
__d("XWorkUpdateTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/tasks\/update\/",{task_id:{type:"String",required:true},completed:{type:"Bool",defaultValue:false}});}),null);
__d('RHCWorkTasksPagelet.react',['ix','cx','fbt','Arbiter','AsyncRequest','AsyncResponse','FBCheckbox.react','FeedPersonalTaskOption','Image.react','Layout.react','Link.react','Popup','React','ScrollableArea.react','SignalsTab.react','SignalsTabGroup.react','Tooltip.react','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogCloseButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUINotice.react','XUIText.react','XUITextInput.react','XWorkCreateTaskAsyncController','XWorkCreatePersonalTaskAsyncController','XWorkDeletePersonalTaskAsyncController','XWorkEnableTaskIntegrationAsyncController','XWorkInstallContentAppOnUserController','XWorkUpdatePersonalTaskAsyncController','XWorkUpdateTaskAsyncController','fbglyph','nullthrows'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('Layout.react').Column,n=c('Layout.react').FillColumn,o=30;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.$RHCWorkTasksPagelet1=null;this.$RHCWorkTasksPagelet15=function(){if(!this.state.newTaskTitle)return;this.setState({submittingTask:true});var r=c('XWorkCreateTaskAsyncController').getURIBuilder().setString('title',this.state.newTaskTitle).getURI();new (c('AsyncRequest'))().setURI(r).setMethod('POST').setHandler(function(s){this.state.tasks.unshift(s.payload);this.setState({tasks:this.state.tasks,newTaskTitle:'',submittingTask:false});}.bind(this)).send();}.bind(this);this.state={allowTaskCreation:this.props.appIntegration?this.props.appIntegration.allowTaskCreation:false,error:null,newPersonalTaskTitle:'',newTaskTitle:'',personalTasks:this.props.personalTasks,submittingTask:false,tasks:this.props.appIntegration?this.props.appIntegration.tasks:[]};}p.prototype.componentDidMount=function(){this.$RHCWorkTasksPagelet1=c('Arbiter').subscribe(c('FeedPersonalTaskOption').ADD_TASK,function(q,r){this.$RHCWorkTasksPagelet2(r.name,r.postID);}.bind(this));};p.prototype.componentWillUnmount=function(){c('Arbiter').unsubscribe(this.$RHCWorkTasksPagelet1);};p.prototype.render=function(){var q=[this.$RHCWorkTasksPagelet3(),this.$RHCWorkTasksPagelet4(),this.$RHCWorkTasksPagelet5()],r=this.$RHCWorkTasksPagelet6(q);return c('React').createElement('div',null,this.$RHCWorkTasksPagelet7(),r);};p.prototype.$RHCWorkTasksPagelet6=function(q){var r=[];for(var s=q,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var v;if(t){if(u>=s.length)break;v=s[u++];}else{u=s.next();if(u.done)break;v=u.value;}var w=v;if(w)r.push(w);}if(r.length===0)return null;if(r.length===1)return r[0].content;var x=r.map(function(y,z){var aa={};if(y.count&&y.count>0)aa.count=y.count;return c('React').createElement(c('SignalsTab.react'),babelHelpers['extends']({key:'tab'+z,title:y.title},aa),y.content);});return c('React').createElement(c('SignalsTabGroup.react'),{className:"_sbo",showSeparator:false},x);};p.prototype.$RHCWorkTasksPagelet3=function(){var q=this.state.personalTasks;if(!q)return null;var r=q.length===0?this.$RHCWorkTasksPagelet8():c('React').createElement(c('ScrollableArea.react'),{className:"_sbs",maxHeight:185},this.$RHCWorkTasksPagelet9(q));return {title:j._("Personales"),count:q.length,content:c('React').createElement('div',{className:"_4ol5"},this.$RHCWorkTasksPagelet10(),r)};};p.prototype.$RHCWorkTasksPagelet4=function(){var q=this.props.appIntegration;if(!q)return null;var r=this.state.tasks.length===0?this.$RHCWorkTasksPagelet11():c('React').createElement(c('ScrollableArea.react'),{className:"_sbs",maxHeight:185},this.$RHCWorkTasksPagelet12());return {title:q.name,count:this.state.tasks.length,content:c('React').createElement('div',{className:"_4ol5"},this.$RHCWorkTasksPagelet13(),r)};};p.prototype.$RHCWorkTasksPagelet5=function(){var q=this.props.enableConfig;if(!q)return null;return {title:q.name,content:c('React').createElement('div',{className:"_sbr"},c('React').createElement('div',{className:"_1zzc"},c('React').createElement(c('Image.react'),{src:q.image_large}),c('React').createElement('span',{className:"_1zzd"},q.name)),c('React').createElement(c('XUIText.react'),{size:'medium',display:'block'},j._("Vincula tu cuenta con Asana para ver tus tareas m\u00e1s recientes aqu\u00ed.")),c('React').createElement(c('XUIButton.react'),{className:"_1zze",label:j._("Activar"),size:'large',onClick:function(){return this.$RHCWorkTasksPagelet14(q);}.bind(this)}))};};p.prototype.$RHCWorkTasksPagelet13=function(){var q=this.props.appIntegration;if(!this.state.allowTaskCreation||!q)return null;return c('React').createElement('div',{className:"_4ol6"},c('React').createElement(c('Image.react'),{className:"_40vj",src:h("125020"),onClick:this.$RHCWorkTasksPagelet15}),c('React').createElement(c('XUITextInput.react'),{className:"_40vk",height:'tall',disabled:this.state.submittingTask,value:this.state.newTaskTitle,placeholder:j._("Agrega una tarea de {task provider name}",[j.param('task provider name',q.name)]),onChange:function(r){return this.setState({newTaskTitle:r.target.value});}.bind(this),onKeyDown:function(r){if(r.key==='Enter')this.$RHCWorkTasksPagelet15();}.bind(this)}),c('React').createElement(c('Tooltip.react'),{display:'block',tooltip:j._("Crea tareas autoasignadas de forma r\u00e1pida")},c('React').createElement(c('Image.react'),{src:h("124739")})));};p.prototype.$RHCWorkTasksPagelet10=function(){return c('React').createElement('div',{className:"_4ol6"},c('React').createElement(c('Image.react'),{className:"_40vj",src:h("125020"),onClick:function(){return this.$RHCWorkTasksPagelet2(this.state.newPersonalTaskTitle);}.bind(this)}),c('React').createElement(c('XUITextInput.react'),{className:"_40vk",height:'tall',value:this.state.newPersonalTaskTitle,placeholder:j._("Agrega una tarea personal"),onChange:function(event){return this.setState({newPersonalTaskTitle:event.target.value});}.bind(this),onKeyDown:function(event){if(event.key==='Enter')this.$RHCWorkTasksPagelet2(this.state.newPersonalTaskTitle);}.bind(this)}),c('React').createElement(c('Tooltip.react'),{tooltip:j._("Las tareas personales son cosas que tienes por hacer")},c('React').createElement(c('Image.react'),{src:h("124739")})));};p.prototype.$RHCWorkTasksPagelet9=function(q){return q.map(function(r){var s=r.postPermalink?c('React').createElement(c('Image.react'),{src:h("117026")}):null,t=r.postPermalink?c('React').createElement(c('Link.react'),{href:r.postPermalink},r.name):c('React').createElement('span',null,r.name);return c('React').createElement(c('Layout.react'),{key:r.id,className:"_sbt"},c('React').createElement(m,null,c('React').createElement(c('FBCheckbox.react'),{className:"_dom",checked:r.isCompleted,onToggle:function(u){return this.$RHCWorkTasksPagelet16(r,{isCompleted:u});}.bind(this)})),c('React').createElement(n,{className:"_cim"},s,c('React').createElement(c('XUIText.react'),{className:"_42_o"+(r.isCompleted?' '+"_sc3":''),onKeyDown:function u(v){if(v.key==='Enter')v.preventDefault();},onKeyUp:function u(v){if(v.key==='Enter')v.target.blur();},onBlur:function(u){this.$RHCWorkTasksPagelet16(r,{name:u.target.textContent});}.bind(this),contentEditable:!r.postPermalink},t)),c('React').createElement(m,null,c('React').createElement(c('Link.react'),{className:"_sbu",onClick:function(){return this.$RHCWorkTasksPagelet17(r);}.bind(this)},c('React').createElement(c('Image.react'),{src:h("126888")}))));}.bind(this));};p.prototype.$RHCWorkTasksPagelet11=function(){return this.$RHCWorkTasksPagelet18();};p.prototype.$RHCWorkTasksPagelet18=function(){return c('React').createElement('div',{className:"_sbr"},c('React').createElement('div',null,c('React').createElement(c('Image.react'),{src:h("126087")})),c('React').createElement(c('XUIText.react'),{size:'medium',display:'block'},j._("Tu lista de tareas est\u00e1 vac\u00eda.")));};p.prototype.$RHCWorkTasksPagelet8=function(){return c('React').createElement('div',{className:"_sbr"},c('React').createElement('div',null,c('React').createElement(c('Image.react'),{src:h("126087")})),c('React').createElement(c('XUIText.react'),{size:'medium',display:'block'},j._("Recuerda pasar por la tintorer\u00eda, enviar una tarjeta de cumplea\u00f1os o cualquier otra tarea.")));};p.prototype.$RHCWorkTasksPagelet12=function(){return this.state.tasks.map(function(q){return c('React').createElement(c('Layout.react'),{key:q.id,className:"_sbt"},c('React').createElement(m,null,c('React').createElement(c('FBCheckbox.react'),{className:"_dom",checked:q.isCompleted||false,onToggle:function(r){return this.$RHCWorkTasksPagelet19(q,r);}.bind(this)})),c('React').createElement(n,null,c('React').createElement(c('XUIText.react'),{className:"_42_o"+(q.isCompleted?' '+"_sc3":'')},c('React').createElement(c('Link.react'),{href:q.uri,target:'_blank'},q.title))));}.bind(this));};p.prototype.$RHCWorkTasksPagelet16=function(q,r){var s=Object.assign({},q);Object.assign(q,r);this.setState({personalTasks:this.state.personalTasks});var t=c('XWorkUpdatePersonalTaskAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(t).setMethod('POST').setData({completed:q.isCompleted,id:q.id.toString(),title:q.name}).setErrorHandler(function(){var u=this.$RHCWorkTasksPagelet20(q.name),v=j._("Se produjo un error al actualizar la tarea \"{task}\". Vuelve a intentarlo.",[j.param('task',u)]);Object.assign(q,s);this.setState({error:v,personalTasks:this.state.personalTasks});}.bind(this)).send();};p.prototype.$RHCWorkTasksPagelet19=function(q,r){q.isCompleted=r;this.setState({tasks:this.state.tasks});var s=c('XWorkUpdateTaskAsyncController').getURIBuilder().setString('task_id',q.id).setBool('completed',r).getURI();new (c('AsyncRequest'))().setURI(s).setMethod('POST').setErrorHandler(function(t){var u=this.$RHCWorkTasksPagelet20(q.title),v=j._("Se produjo un error al actualizar la tarea \"{task}\". Vuelve a intentarlo.",[j.param('task',u)]);q.isCompleted=!r;this.setState({error:v,tasks:this.state.tasks});}.bind(this)).send();};p.prototype.$RHCWorkTasksPagelet21=function(){this.setState({submittingTask:true});var q=c('XWorkEnableTaskIntegrationAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(q).setMethod('POST').setHandler(function(r){this.setState({tasks:r.payload,submittingTask:false,allowTaskCreation:true});}.bind(this)).send();};p.prototype.$RHCWorkTasksPagelet14=function(q){c('Popup').open(q.login_url,700,700);window.workContentAppsOAuthCallback=function(r){var s=c('XWorkInstallContentAppOnUserController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(s).setData({code:r,type:q.type}).setMethod('POST').setHandler(function(t){this.$RHCWorkTasksPagelet21();}.bind(this)).send();}.bind(this);};p.prototype.$RHCWorkTasksPagelet2=function(q,r){if(q==='')return;var s=c('nullthrows')(this.state.personalTasks),t={id:'-1',name:q,isCompleted:false,creationTime:new Date()};this.setState({newPersonalTaskTitle:'',personalTasks:[t].concat(s)});var u=c('XWorkCreatePersonalTaskAsyncController').getURIBuilder().setString('title',q);if(r)u=u.setFBID('post_id',r.toString());u=u.getURI();new (c('AsyncRequest'))().setURI(u).setMethod('POST').setHandler(function(v){this.setState({personalTasks:c('nullthrows')(this.state.personalTasks).map(function(w){return w===t?v.payload:w;})});}.bind(this)).setErrorHandler(function(v){var w=this.$RHCWorkTasksPagelet20(q),x=j._("Se produjo un error al guardar la tarea \"{task}\". Vuelve a intentarlo.",[j.param('task',w)]);this.setState({error:x,personalTasks:s});}.bind(this)).send();};p.prototype.$RHCWorkTasksPagelet17=function(q){var r=c('nullthrows')(this.state.personalTasks);this.setState({personalTasks:r.filter(function(t){return t!==q;})});var s=c('XWorkDeletePersonalTaskAsyncController').getURIBuilder().setFBID('id',q.id.toString()).getURI();new (c('AsyncRequest'))().setURI(s).setMethod('POST').setErrorHandler(function(){var t=this.$RHCWorkTasksPagelet20(q.name),u=j._("Se produjo un error al eliminar la tarea \"{task}\". Vuelve a intentarlo.",[j.param('task',t)]);this.setState({error:u,personalTasks:r});}.bind(this)).send();};p.prototype.$RHCWorkTasksPagelet7=function(){if(!this.state.error)return null;return c('React').createElement(c('XUIDialog.react'),{shown:true,width:400},c('React').createElement(c('XUIDialogTitle.react'),null,j._("Error")),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement(c('XUINotice.react'),{use:'warn'},this.state.error)),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCloseButton.react'),{onClick:function(){return this.setState({error:null});}.bind(this)})));};p.prototype.$RHCWorkTasksPagelet20=function(q){return q.length>o?q.substr(0,o)+'...':q;};f.exports=p;}),null);